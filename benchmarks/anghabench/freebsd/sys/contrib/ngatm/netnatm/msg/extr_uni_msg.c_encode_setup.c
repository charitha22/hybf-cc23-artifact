#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_140__   TYPE_9__ ;
typedef  struct TYPE_139__   TYPE_8__ ;
typedef  struct TYPE_138__   TYPE_7__ ;
typedef  struct TYPE_137__   TYPE_70__ ;
typedef  struct TYPE_136__   TYPE_6__ ;
typedef  struct TYPE_135__   TYPE_69__ ;
typedef  struct TYPE_134__   TYPE_68__ ;
typedef  struct TYPE_133__   TYPE_67__ ;
typedef  struct TYPE_132__   TYPE_66__ ;
typedef  struct TYPE_131__   TYPE_65__ ;
typedef  struct TYPE_130__   TYPE_64__ ;
typedef  struct TYPE_129__   TYPE_63__ ;
typedef  struct TYPE_128__   TYPE_62__ ;
typedef  struct TYPE_127__   TYPE_61__ ;
typedef  struct TYPE_126__   TYPE_60__ ;
typedef  struct TYPE_125__   TYPE_5__ ;
typedef  struct TYPE_124__   TYPE_59__ ;
typedef  struct TYPE_123__   TYPE_58__ ;
typedef  struct TYPE_122__   TYPE_57__ ;
typedef  struct TYPE_121__   TYPE_56__ ;
typedef  struct TYPE_120__   TYPE_55__ ;
typedef  struct TYPE_119__   TYPE_54__ ;
typedef  struct TYPE_118__   TYPE_53__ ;
typedef  struct TYPE_117__   TYPE_52__ ;
typedef  struct TYPE_116__   TYPE_51__ ;
typedef  struct TYPE_115__   TYPE_50__ ;
typedef  struct TYPE_114__   TYPE_4__ ;
typedef  struct TYPE_113__   TYPE_49__ ;
typedef  struct TYPE_112__   TYPE_48__ ;
typedef  struct TYPE_111__   TYPE_47__ ;
typedef  struct TYPE_110__   TYPE_46__ ;
typedef  struct TYPE_109__   TYPE_45__ ;
typedef  struct TYPE_108__   TYPE_44__ ;
typedef  struct TYPE_107__   TYPE_43__ ;
typedef  struct TYPE_106__   TYPE_42__ ;
typedef  struct TYPE_105__   TYPE_41__ ;
typedef  struct TYPE_104__   TYPE_40__ ;
typedef  struct TYPE_103__   TYPE_3__ ;
typedef  struct TYPE_102__   TYPE_39__ ;
typedef  struct TYPE_101__   TYPE_38__ ;
typedef  struct TYPE_100__   TYPE_37__ ;
typedef  struct TYPE_99__   TYPE_36__ ;
typedef  struct TYPE_98__   TYPE_35__ ;
typedef  struct TYPE_97__   TYPE_34__ ;
typedef  struct TYPE_96__   TYPE_33__ ;
typedef  struct TYPE_95__   TYPE_32__ ;
typedef  struct TYPE_94__   TYPE_31__ ;
typedef  struct TYPE_93__   TYPE_30__ ;
typedef  struct TYPE_92__   TYPE_2__ ;
typedef  struct TYPE_91__   TYPE_29__ ;
typedef  struct TYPE_90__   TYPE_28__ ;
typedef  struct TYPE_89__   TYPE_27__ ;
typedef  struct TYPE_88__   TYPE_26__ ;
typedef  struct TYPE_87__   TYPE_25__ ;
typedef  struct TYPE_86__   TYPE_24__ ;
typedef  struct TYPE_85__   TYPE_23__ ;
typedef  struct TYPE_84__   TYPE_22__ ;
typedef  struct TYPE_83__   TYPE_21__ ;
typedef  struct TYPE_82__   TYPE_20__ ;
typedef  struct TYPE_81__   TYPE_1__ ;
typedef  struct TYPE_80__   TYPE_19__ ;
typedef  struct TYPE_79__   TYPE_18__ ;
typedef  struct TYPE_78__   TYPE_17__ ;
typedef  struct TYPE_77__   TYPE_16__ ;
typedef  struct TYPE_76__   TYPE_15__ ;
typedef  struct TYPE_75__   TYPE_14__ ;
typedef  struct TYPE_74__   TYPE_13__ ;
typedef  struct TYPE_73__   TYPE_12__ ;
typedef  struct TYPE_72__   TYPE_11__ ;
typedef  struct TYPE_71__   TYPE_10__ ;

/* Type definitions */
typedef  union uni_ieall {int dummy; } uni_ieall ;
typedef  size_t u_int ;
struct unicx {int dummy; } ;
struct TYPE_133__ {int present; } ;
struct TYPE_134__ {TYPE_67__ h; } ;
struct TYPE_131__ {int present; } ;
struct TYPE_132__ {TYPE_65__ h; } ;
struct TYPE_129__ {int present; } ;
struct TYPE_130__ {TYPE_63__ h; } ;
struct TYPE_124__ {int present; } ;
struct TYPE_126__ {TYPE_59__ h; } ;
struct TYPE_122__ {int present; } ;
struct TYPE_123__ {TYPE_57__ h; } ;
struct TYPE_120__ {int present; } ;
struct TYPE_121__ {TYPE_55__ h; } ;
struct TYPE_118__ {int present; } ;
struct TYPE_119__ {TYPE_53__ h; } ;
struct TYPE_116__ {int present; } ;
struct TYPE_117__ {TYPE_51__ h; } ;
struct TYPE_113__ {int present; } ;
struct TYPE_115__ {TYPE_49__ h; } ;
struct TYPE_111__ {int present; } ;
struct TYPE_112__ {TYPE_47__ h; } ;
struct TYPE_109__ {int present; } ;
struct TYPE_110__ {TYPE_45__ h; } ;
struct TYPE_107__ {int present; } ;
struct TYPE_108__ {TYPE_43__ h; } ;
struct TYPE_105__ {int present; } ;
struct TYPE_106__ {TYPE_41__ h; } ;
struct TYPE_100__ {int present; } ;
struct TYPE_101__ {TYPE_37__ h; } ;
struct TYPE_98__ {int present; } ;
struct TYPE_99__ {TYPE_35__ h; } ;
struct TYPE_96__ {int present; } ;
struct TYPE_97__ {TYPE_33__ h; } ;
struct TYPE_94__ {int present; } ;
struct TYPE_95__ {TYPE_31__ h; } ;
struct TYPE_89__ {int present; } ;
struct TYPE_90__ {TYPE_27__ h; } ;
struct TYPE_87__ {int present; } ;
struct TYPE_88__ {TYPE_25__ h; } ;
struct TYPE_85__ {int present; } ;
struct TYPE_86__ {TYPE_23__ h; } ;
struct TYPE_83__ {int present; } ;
struct TYPE_84__ {TYPE_21__ h; } ;
struct TYPE_80__ {int present; } ;
struct TYPE_82__ {TYPE_19__ h; } ;
struct TYPE_76__ {int present; } ;
struct TYPE_77__ {TYPE_15__ h; } ;
struct TYPE_72__ {int present; } ;
struct TYPE_73__ {TYPE_11__ h; } ;
struct TYPE_138__ {int present; } ;
struct TYPE_139__ {TYPE_7__ h; } ;
struct TYPE_125__ {int present; } ;
struct TYPE_136__ {TYPE_5__ h; } ;
struct TYPE_103__ {int present; } ;
struct TYPE_114__ {TYPE_3__ h; } ;
struct TYPE_81__ {int present; } ;
struct TYPE_92__ {TYPE_1__ h; } ;
struct TYPE_135__ {int present; } ;
struct TYPE_137__ {TYPE_69__ h; } ;
struct uni_setup {TYPE_68__ unrec; TYPE_66__ mdcr; TYPE_64__ report; TYPE_62__* dtl; TYPE_60__ dtl_repeat; TYPE_58__ called_soft; TYPE_56__ calling_soft; TYPE_54__ cscope; TYPE_52__ abradd; TYPE_50__ abrsetup; TYPE_48__ exqos; TYPE_46__ lij_seqno; TYPE_44__ lij_param; TYPE_42__ lij_callid; TYPE_40__* git; TYPE_38__ uu; TYPE_36__ mintraffic; TYPE_34__ atraffic; TYPE_32__ epref; TYPE_30__* tns; TYPE_28__ scompl; TYPE_26__ notify; TYPE_24__ eetd; TYPE_22__ qos; TYPE_20__ connid; TYPE_18__* callingsub; TYPE_16__ calling; TYPE_14__* calledsub; TYPE_12__ called; TYPE_10__* blli; TYPE_8__ blli_repeat; TYPE_6__ bhli; TYPE_4__ bearer; TYPE_2__ traffic; TYPE_70__ aal; int /*<<< orphan*/  hdr; } ;
struct uni_msg {size_t* b_buf; size_t b_wptr; size_t b_rptr; } ;
struct TYPE_140__ {int present; } ;
struct TYPE_127__ {int present; } ;
struct TYPE_128__ {TYPE_61__ h; } ;
struct TYPE_102__ {int present; } ;
struct TYPE_104__ {TYPE_39__ h; } ;
struct TYPE_91__ {int present; } ;
struct TYPE_93__ {TYPE_29__ h; } ;
struct TYPE_78__ {int present; } ;
struct TYPE_79__ {TYPE_17__ h; } ;
struct TYPE_74__ {int present; } ;
struct TYPE_75__ {TYPE_13__ h; } ;
struct TYPE_71__ {TYPE_9__ h; } ;

/* Variables and functions */
 int UNI_IE_AAL ; 
 int UNI_IE_ABRADD ; 
 int UNI_IE_ABRSETUP ; 
 int UNI_IE_ATRAFFIC ; 
 int UNI_IE_BEARER ; 
 int UNI_IE_BHLI ; 
 int UNI_IE_BLLI ; 
 int UNI_IE_CALLED ; 
 int UNI_IE_CALLEDSUB ; 
 int UNI_IE_CALLED_SOFT ; 
 int UNI_IE_CALLING ; 
 int UNI_IE_CALLINGSUB ; 
 int UNI_IE_CALLING_SOFT ; 
 int UNI_IE_CONNID ; 
 int UNI_IE_CSCOPE ; 
 int UNI_IE_DTL ; 
 int UNI_IE_EETD ; 
 int UNI_IE_EPREF ; 
 int UNI_IE_EXQOS ; 
 int UNI_IE_GIT ; 
 int UNI_IE_LIJ_CALLID ; 
 int UNI_IE_LIJ_PARAM ; 
 int UNI_IE_LIJ_SEQNO ; 
 int UNI_IE_MDCR ; 
 int UNI_IE_MINTRAFFIC ; 
 int UNI_IE_NOTIFY ; 
 int UNI_IE_PRESENT ; 
 int UNI_IE_QOS ; 
 int UNI_IE_REPORT ; 
 int UNI_IE_SCOMPL ; 
 int UNI_IE_TNS ; 
 int UNI_IE_TRAFFIC ; 
 int UNI_IE_UNREC ; 
 int UNI_IE_UU ; 
 size_t UNI_NUM_IE_BLLI ; 
 size_t UNI_NUM_IE_CALLEDSUB ; 
 size_t UNI_NUM_IE_CALLINGSUB ; 
 size_t UNI_NUM_IE_DTL ; 
 size_t UNI_NUM_IE_GIT ; 
 size_t UNI_NUM_IE_TNS ; 
 int /*<<< orphan*/  UNI_SETUP ; 
 scalar_t__ uni_encode_ie (int,struct uni_msg*,union uni_ieall*,struct unicx*) ; 
 scalar_t__ uni_encode_msg_hdr (struct uni_msg*,int /*<<< orphan*/ *,int /*<<< orphan*/ ,struct unicx*,size_t*) ; 

__attribute__((used)) static int
encode_setup(struct uni_msg *msg, struct uni_setup *p, struct unicx *cx)
{
	u_int mlen;
	u_int i;

	if(uni_encode_msg_hdr(msg, &p->hdr, UNI_SETUP, cx, &mlen))
		return (-2);

	if((p->aal.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_AAL, msg, (union uni_ieall *)&p->aal, cx))
		return (UNI_IE_AAL);
	if((p->traffic.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_TRAFFIC, msg, (union uni_ieall *)&p->traffic, cx))
		return (UNI_IE_TRAFFIC);
	if((p->bearer.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_BEARER, msg, (union uni_ieall *)&p->bearer, cx))
		return (UNI_IE_BEARER);
	if((p->bhli.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_BHLI, msg, (union uni_ieall *)&p->bhli, cx))
		return (UNI_IE_BHLI);
	if((p->blli_repeat.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_BLLI, msg, (union uni_ieall *)&p->blli_repeat, cx))
		return (0x10000000 + UNI_IE_BLLI);
	for(i = 0; i < UNI_NUM_IE_BLLI; i++)
		if((p->blli[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_BLLI, msg, (union uni_ieall *)&p->blli[i], cx))
		return ((i << 16) + UNI_IE_BLLI);
	if((p->called.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CALLED, msg, (union uni_ieall *)&p->called, cx))
		return (UNI_IE_CALLED);
	for(i = 0; i < UNI_NUM_IE_CALLEDSUB; i++)
		if((p->calledsub[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_CALLEDSUB, msg, (union uni_ieall *)&p->calledsub[i], cx))
		return ((i << 16) + UNI_IE_CALLEDSUB);
	if((p->calling.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CALLING, msg, (union uni_ieall *)&p->calling, cx))
		return (UNI_IE_CALLING);
	for(i = 0; i < UNI_NUM_IE_CALLINGSUB; i++)
		if((p->callingsub[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_CALLINGSUB, msg, (union uni_ieall *)&p->callingsub[i], cx))
		return ((i << 16) + UNI_IE_CALLINGSUB);
	if((p->connid.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CONNID, msg, (union uni_ieall *)&p->connid, cx))
		return (UNI_IE_CONNID);
	if((p->qos.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_QOS, msg, (union uni_ieall *)&p->qos, cx))
		return (UNI_IE_QOS);
	if((p->eetd.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_EETD, msg, (union uni_ieall *)&p->eetd, cx))
		return (UNI_IE_EETD);
	if((p->notify.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_NOTIFY, msg, (union uni_ieall *)&p->notify, cx))
		return (UNI_IE_NOTIFY);
	if((p->scompl.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_SCOMPL, msg, (union uni_ieall *)&p->scompl, cx))
		return (UNI_IE_SCOMPL);
	for(i = 0; i < UNI_NUM_IE_TNS; i++)
		if((p->tns[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_TNS, msg, (union uni_ieall *)&p->tns[i], cx))
		return ((i << 16) + UNI_IE_TNS);
	if((p->epref.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_EPREF, msg, (union uni_ieall *)&p->epref, cx))
		return (UNI_IE_EPREF);
	if((p->atraffic.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_ATRAFFIC, msg, (union uni_ieall *)&p->atraffic, cx))
		return (UNI_IE_ATRAFFIC);
	if((p->mintraffic.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_MINTRAFFIC, msg, (union uni_ieall *)&p->mintraffic, cx))
		return (UNI_IE_MINTRAFFIC);
	if((p->uu.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_UU, msg, (union uni_ieall *)&p->uu, cx))
		return (UNI_IE_UU);
	for(i = 0; i < UNI_NUM_IE_GIT; i++)
		if((p->git[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_GIT, msg, (union uni_ieall *)&p->git[i], cx))
		return ((i << 16) + UNI_IE_GIT);
	if((p->lij_callid.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_LIJ_CALLID, msg, (union uni_ieall *)&p->lij_callid, cx))
		return (UNI_IE_LIJ_CALLID);
	if((p->lij_param.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_LIJ_PARAM, msg, (union uni_ieall *)&p->lij_param, cx))
		return (UNI_IE_LIJ_PARAM);
	if((p->lij_seqno.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_LIJ_SEQNO, msg, (union uni_ieall *)&p->lij_seqno, cx))
		return (UNI_IE_LIJ_SEQNO);
	if((p->exqos.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_EXQOS, msg, (union uni_ieall *)&p->exqos, cx))
		return (UNI_IE_EXQOS);
	if((p->abrsetup.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_ABRSETUP, msg, (union uni_ieall *)&p->abrsetup, cx))
		return (UNI_IE_ABRSETUP);
	if((p->abradd.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_ABRADD, msg, (union uni_ieall *)&p->abradd, cx))
		return (UNI_IE_ABRADD);
	if((p->cscope.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CSCOPE, msg, (union uni_ieall *)&p->cscope, cx))
		return (UNI_IE_CSCOPE);
	if((p->calling_soft.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CALLING_SOFT, msg, (union uni_ieall *)&p->calling_soft, cx))
		return (UNI_IE_CALLING_SOFT);
	if((p->called_soft.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_CALLED_SOFT, msg, (union uni_ieall *)&p->called_soft, cx))
		return (UNI_IE_CALLED_SOFT);
	if((p->dtl_repeat.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_DTL, msg, (union uni_ieall *)&p->dtl_repeat, cx))
		return (0x10000000 + UNI_IE_DTL);
	for(i = 0; i < UNI_NUM_IE_DTL; i++)
		if((p->dtl[i].h.present & UNI_IE_PRESENT) &&
		   uni_encode_ie(UNI_IE_DTL, msg, (union uni_ieall *)&p->dtl[i], cx))
		return ((i << 16) + UNI_IE_DTL);
	if((p->report.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_REPORT, msg, (union uni_ieall *)&p->report, cx))
		return (UNI_IE_REPORT);
	if((p->mdcr.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_MDCR, msg, (union uni_ieall *)&p->mdcr, cx))
		return (UNI_IE_MDCR);
	if((p->unrec.h.present & UNI_IE_PRESENT) &&
	   uni_encode_ie(UNI_IE_UNREC, msg, (union uni_ieall *)&p->unrec, cx))
		return (UNI_IE_UNREC);

	msg->b_buf[mlen+0] = ((msg->b_wptr-msg->b_rptr)-mlen-2) >> 8;
	msg->b_buf[mlen+1] = ((msg->b_wptr-msg->b_rptr)-mlen-2) >> 0;

	return (0);
}