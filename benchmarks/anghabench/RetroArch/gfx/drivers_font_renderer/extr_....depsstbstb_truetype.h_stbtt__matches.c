#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int /*<<< orphan*/  stbtt_uint8 ;
typedef  int stbtt_uint32 ;
typedef  int stbtt_int32 ;

/* Variables and functions */
 int stbtt__find_table (int /*<<< orphan*/ *,int,char*) ; 
 int /*<<< orphan*/  stbtt__isfont (int /*<<< orphan*/ *) ; 
 scalar_t__ stbtt__matchpair (int /*<<< orphan*/ *,int,int /*<<< orphan*/ *,int,int,int) ; 
 int /*<<< orphan*/  strlen (char*) ; 
 int ttUSHORT (int /*<<< orphan*/ *) ; 

__attribute__((used)) static int stbtt__matches(stbtt_uint8 *fc, stbtt_uint32 offset, stbtt_uint8 *name, stbtt_int32 flags)
{
   stbtt_int32 nlen = (stbtt_int32)strlen((char*)name);
   stbtt_uint32 nm,hd;
   if (!stbtt__isfont(fc+offset))
      return 0;

   /* check italics/bold/underline flags in macStyle... */
   if (flags)
   {
      hd = stbtt__find_table(fc, offset, "head");
      if ((ttUSHORT(fc+hd+44) & 7) != (flags & 7)) return 0;
   }

   nm = stbtt__find_table(fc, offset, "name");
   if (!nm)
      return 0;

   if (flags)
   {
      /* if we checked the macStyle flags, then just check the family and ignore the subfamily */
      if (stbtt__matchpair(fc, nm, name, nlen, 16, -1))
         return 1;
      if (stbtt__matchpair(fc, nm, name, nlen,  1, -1))
         return 1;
      if (stbtt__matchpair(fc, nm, name, nlen,  3, -1))
         return 1;
   }
   else
   {
      if (stbtt__matchpair(fc, nm, name, nlen, 16, 17))
         return 1;
      if (stbtt__matchpair(fc, nm, name, nlen,  1,  2))
         return 1;
      if (stbtt__matchpair(fc, nm, name, nlen,  3, -1))
         return 1;
   }

   return 0;
}